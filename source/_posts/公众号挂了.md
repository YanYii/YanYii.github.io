---
title: 记一次公众号网页不可用
tags: 经验
date: 2020-11-16
excerpt: 那些没人维护的项目，后来怎么样了
---

普通的早上，沉寂近两年的群，突然发来一条消息。

> X: @AA在吗？

群里AA没有回复消息。

过了半小时，群里多了两条新消息。

> X: 谁能联系下CC
>
> X: 有急事

依旧没有人回消息。可能AA、CC他们都在忙吧。或者，没有在群里回复，直接私聊联系。毕竟急事，大部分也是私事。



有什么事，能让X这么着急呢？

两年前，X找CC开发公众号网页的项目。

CC找了AA来做技术负责人，实现项目的开发。我作为一名打工人，参与了项目。

今天，X在项目的技术群发消息找人。我想，会不会是公众号的网页出了问题呢。



去试试看，就知道。

打开微信，找到X的公众号，点击公众号底部菜单，页面开始跳转，页面空白，绿色的进度条在顶部向右快速前进。等了一会，提示加载失败。



果然，公众号网页挂了。



为什么网页突然会无法访问呢。这个网页已经正常运行近两年。为何今天突然就坚持不住了呢。其实中间有没有问题，我不清楚。群里上一次消息的记录，还是两年前。就当它正常运行两年，没问题。



随手将微信里空白的网页下拉，查看隐藏的网站域名信息。用手机备忘录记录下来。

会不会是https证书过期了呢。毕竟免费的ssl证书只有一年期限。到期后，要手动去申请新的证书，进行更换。其他项目都遇到过ssl过期的问题。



验证下自己的想法。

在微信收藏里，找到记录的ssl检测工具网站。访问网站，检测刚刚记录在备忘录的域名。检测结果提示：DNS解析失败。第一反应，公众号不强制要求https，小程序才要求https。记得项目上线那会，也没有配置ssl证书。



DNS解析失败？排查下域名解析。用手机操作，没电脑方便。电脑上直接ping一下域名，就知道是不是解析不到这个域名。手机的话，只能借助在线网站ping。试了一下，果然解析失败，看不到域名背后的ip地址。



好好的域名，怎么会解析失败？

莫非？难道？



没有这个域名？！！！

不可能。

打开在线网站，查询域名的Whois信息。Whois信息还是正常的，明年才到期。



服务器不至于到期，是CC的服务器。

剩下一种可能。解析记录丢失了。

域名不是AA的域名。一般域名持有者是公司，由对应的负责人持有。刚好那个人已经不在原来的公司。可能他整理域名的时候，顺便把某些他认为不需要的解析记录删除了把。误删了。因为他没参与过这个公众号项目，他误认为这些域名解析没有用处，也不是没有可能。



至此。大致上了解了整个过程。域名持有者H没有参与过这个项目，由AA技术拿来使用，添加了解析记录给项目用。两年过去了。H去了别的公司，某一天，整理阿里云的域名，顺手就把无用的域名解析给删除了。



一直到晚上，群里也没有回复消息。应该是私下处理了。



只是我一直记挂着，域名无法解析到服务器，如何确认那台服务器是否是正常呢。虽然之前访问过那台服务器，但是时间久了。电脑上访问的记录，很难找回来。



> 这件事让我获得一个经验。

我应该准备一个Excel，把经手过的域名和对应的服务器信息，记录下来。如果后面需要，可以第一时间查阅。



这个Excel，是这样：

| 项目  | 域名               | 服务器IP     | 服务器账号信息 |
| ----- | ------------------ | ------------ | -------------- |
| A项目 | http://admin.a.com | 112.18.19.20 | root/39s*jf&1b |

